#include <stdio.h>
#include <string.h>

// Structure to store person information
struct Person {
    char name[20];
    int age;
};

void decode_person(const char *encoded_data, struct Person *person) {
    // Ensure encoded data is not empty
    if (strlen(encoded_data) < 1) {
        printf("Error: Invalid encoded data\n");
        return;
    }

    // Decode name length
    int name_length = encoded_data[0];

    // Ensure name length does not exceed encoded data length
    if (name_length + 1 >= strlen(encoded_data)) {
        printf("Error: Invalid name length\n");
        return;
    }

    // Decode name
    memcpy(person->name, &encoded_data[1], name_length);
    person->name[name_length] = '\0'; // Null-terminate the string

    // Decode age
    int age_offset = name_length + 1;
    if (age_offset + sizeof(int) <= strlen(encoded_data)) {
        memcpy(&person->age, &encoded_data[age_offset], sizeof(int));
    } else {
        printf("Error: Invalid age length\n");
        return;
    }
}